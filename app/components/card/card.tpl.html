<div ng-cloak class="gd-card paper resting slide-top">
    <div class="product-media">
        <a href="/product/{{item.code}}">
            <div class="product-img ar_1-1" ng-cloak style="background-image: url({{item.file1 | lowres}});" md-ink-ripple></div>
            <div class="hoverlay"></div>
        </a>
        <div class="product-media-actions">
            <div class="scrim top"></div>
            <md-button class="md-icon-button add-to-favourites" ng-click="postFav(item.code, item.favourite)" ng-if="!$root.userData.admin && $root.logged" ng-show="!item.favourite">
                <md-tooltip>
                    Adauga la favorite
                </md-tooltip>
                <md-icon md-svg-src="assets/icons/ic_favorite_border_white_24px.svg" style="width: 24px; height: 24px;"></md-icon>
            </md-button>
            <md-button class="md-icon-button add-to-favourites" ng-click="postFav(item.code, item.favourite)" ng-if="!$root.userData.admin && $root.logged" ng-show="item.favourite">
                <md-tooltip>
                    Elimina de la favorite
                </md-tooltip>
                <md-icon md-svg-src="assets/icons/ic_favorite_white_24px.svg" style="width: 24px; height: 24px;"></md-icon>
            </md-button>
            <a class="md-icon-button add-to-favourites" md-button ng-href="/admin/edit/{{item.code}}" ng-if="$root.userData.admin && $root.logged">
                <md-tooltip>
                    Editeaza produs
                </md-tooltip>
                <md-icon md-svg-src="assets/icons/ic_create_white_24px.svg" style="width: 24px; height: 24px;"></md-icon>
            </a>
        </div>
        <div class="promo-badge" ng-show="item.promo">
            <md-tooltip>
                Produs promo
            </md-tooltip>
            <md-icon md-svg-src="assets/icons/promo_badge.svg" style="width: 48px; height: 48px;"></md-icon>
        </div>
    </div>
    <div class="product-info">
        <div class="info-container">
            <h2 class="product-title single-line">{{item.name}}</h2>
            <div class="subtitle-container">
                <p class="product-subtitle single-line secondary-text-color">{{item.subname}}</p>
            </div>
            <div class="excerpt-container">
                <p class="product-excerpt secondary-text-color">{{item.excerpt}}</p>
            </div>
            <div aria-hidden="true" class="description-container is-hidden">
                <p>{{item.excerpt}}</p>
                <p>{{item.description}}</p>
            </div>
        </div>
        <div class="card-menu">
            <md-menu md-position-mode="target-right target">
                <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                    <md-icon md-menu-origin>
                        <i class="material-icons">&#xE5D4;</i>
                    </md-icon>
                </md-button>
                <md-menu-content width="3">
                    <md-menu-item>
                        <md-button ng-click="addToCart()">
                            <div layout="row">
                                <p flex>Adauga in cos</p>
                                <md-icon class="md-icon" md-menu-align-target style="margin: auto 0 auto 0;">
                                    <i class="material-icons">&#xE854;</i>
                                </md-icon>
                            </div>
                        </gd-addtocart>
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="postFav(item.code, item.favourite)">
                        <div layout="row">
                            <p flex>Adauga la favorite</p>
                            <md-icon class="md-icon" md-menu-align-target ng-if="!item.favourite" style="margin: auto 0 auto 0;">
                                <i class="material-icons">&#xE87E;</i>
                            </md-icon>
                            <md-icon class="md-icon" md-menu-align-target ng-if="item.favourite" style="margin: auto 0 auto 0;">
                                <i class="material-icons">&#xE87D;</i>
                            </md-icon>
                        </div>
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </div>
</div>
<div class="product-actions">
    <div class="stars-container">
        <div class="tiny-star" style="background-image: url('assets/icons/ic_star_tiny_14px.svg')"></div>
        <div class="tiny-star" style="background-image: url('assets/icons/ic_star_tiny_14px.svg')"></div>
        <div class="tiny-star" style="background-image: url('assets/icons/ic_star_tiny_14px.svg')"></div>
        <div class="tiny-star" style="background-image: url('assets/icons/ic_star_tiny_14px.svg')"></div>
        <div class="tiny-star" style="background-image: url('assets/icons/ic_star_tiny_14px.svg')"></div>
        <div class="current-rating" style="left: {{item.rating}}%"></div>
    </div>
    <div class="price-container" data="item" id="{{ item.code }}" name="{{ item.name }}" ng-class="{promo : item.promo}" price="{{ item.price }}" quantity="1">
        <div class="promo-price" ng-show="item.promo">RON
            {{item.promo_price | float}}</div>
        <div class="price">
            <span ng-show="!item.promo">RON</span>
            {{item.price | float}}</div>
    </div>
</div>
</div>
