<div id="admin-menu" ng-include="'templates/sidenav.html'"></div>
<div class="wrapper l-offset-side-nav" layout-padding>
    <md-content layout-padding>
        <form name="productForm" ng-submit="insertProduct(product)" novalidate>
            <div layout layout-sm="column">
                <md-input-container flex>
                    <label>Nume produs</label>
                    <input ng-model="product.name">
                </md-input-container>
                <md-input-container flex>
                    <label>Sub-nume</label>
                    <input ng-model="product.subName">
                </md-input-container>
            </div>
            <md-input-container flex>
                <label>Descriere scurta</label>
                <input md-maxlength="30" ng-model="product.excerpt">
            </md-input-container>
            <md-input-container flex>
                <label>Descriere</label>
                <textarea columns="1" ng-model="product.description"></textarea>
            </md-input-container>

            <div layout layout-sm="column">
                <md-input-container flex>
                    <label>Pret (RON)</label>
                    <input name="price" ng-model="product.price" required step="any" type="number">
                    <div ng-messages="productForm.price.$error" ng-show="productForm.price.$invalid && productForm.price.$dirty || productForm.submitted">
                        <div ng-message="required">Introduceti un pret</div>
                        <div ng-message="number">Doar cifrele sunt permise</div>
                    </div>
                </md-input-container>
                <div flex layout layout-align="start center">
                    <md-checkbox aria-label="is promo" name="promo" ng-model="product.promo">
                        Promo?
                    </md-checkbox>
                </div>
                <md-input-container flex>
                    <label>Pret vechi</label>
                    <input name="oldprice" ng-disabled="!product.promo" ng-model="product.oldPrice" step="any" type="number">
                    <div ng-messages="productForm.oldprice.$error" ng-show="productForm.oldprice.$invalid && productForm.oldprice.$dirty">
                        <div ng-message="number">Doar cifrele sunt permise</div>
                    </div>
                </md-input-container>
            </div>
            <div layout layout-sm="column">
                <div flex layout layout-align="start center">
                    <md-checkbox aria-label="is promo" name="promostockcheck" ng-disabled="!product.promo" ng-model="product.promoStockCheck">
                        Cantitate?
                    </md-checkbox>
                </div>
                <md-input-container flex>
                    <label>Stoc Promo</label>
                    <input name="promostock" ng-disabled="!product.promoStockCheck" ng-model="product.promoStock" step="any" type="number">
                    <div ng-messages="productForm.promostock.$error" ng-show="productForm.promostock.$invalid && productForm.promostock.$dirty">
                        <div ng-message="number">Doar cifrele sunt permise</div>
                    </div>
                </md-input-container>
                <div flex layout layout-align="start center">
                    <md-checkbox aria-label="is promo" name="promodatecheck" ng-disabled="!product.promo" ng-model="product.promoDateCheck">
                        Perioada?
                    </md-checkbox>
                </div>
                <md-input-container flex>
                    <label>Promo Date</label>
                    <input ng-disabled="!product.promoDateCheck" ng-model="product.promoDate" type="date">
                </md-input-container>
            </div>
            <div layout layout-sm="column">
                <div class="gd-file-input" ng-controller="UploadController" flex="20">
                    <input aria-label="Select product images" gd-files="product.files" gd-thumb="onFileSelect($files)" id="fileinput" multiple type="file"/>
                    <div class="ar_1-1 no-select">
                        <img ng-src="{{imageSrc}}"/>
                    </div>
                </div>
            </div>
            <div layout layout-sm="column">
                <md-input-container flex="75">
                    <label>Data</label>
                    <input ng-model="product.submissionDate" type="date">
                </md-input-container>
                <md-input-container flex="25" layout-align="end">
                    <md-button class="md-raised md-primary" type="submit">Submit</md-button>
                </md-input-container>
            </div>
        </form>
    </md-content>
</div>